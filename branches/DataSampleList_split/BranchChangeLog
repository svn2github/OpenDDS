Wed Jul  2 19:02:22 UTC 2014  Peter Oschwald  <oschwaldp@ociweb.com>

        * dds/DCPS/DataSampleInstanceList.h:
        * dds/DCPS/DataSampleInstanceList.inl:
        * dds/DCPS/DataSampleInstanceList.cpp:
        * dds/DCPS/DataSampleList.h:
        * dds/DCPS/DataSampleList.inl:
        * dds/DCPS/DataSampleList.cpp:
        * dds/DCPS/DataSampleSendList.h:
        * dds/DCPS/DataSampleSendList.inl:
        * dds/DCPS/DataSampleSendList.cpp:
        * dds/DCPS/DataSampleWriterList.h:
        * dds/DCPS/DataSampleWriterList.inl:
        * dds/DCPS/DataSampleWriterList.cpp:

          Split out DataSampleSendList, DataSampleInstanceList, and DataSampleWriterList
          from DataSampleList and removed inheritance structure so that the three list types
          are stand alone containers.  Left DataSampleList files for now, but have commented
          out all code within rendering them ready to delete after work on lists is complete.

        * dds/DCPS/DataDurabilityCache.h:
        * dds/DCPS/DataDurabilityCache.cpp:
        * dds/DCPS/DataWriterImpl.h:
        * dds/DCPS/DataWriterImpl.cpp:
        * dds/DCPS/PublicationInstance.h:
        * dds/DCPS/PublisherImpl.h:
        * dds/DCPS/RTPS/Sedp.h:
        * dds/DCPS/RTPS/Sedp.cpp:
        * dds/DCPS/ReplayerImpl.h:
        * dds/DCPS/ReplayerImpl.cpp:
        * dds/DCPS/SubscriberImpl.cpp:
        * dds/DCPS/WriteDataContainer.h:
        * dds/DCPS/WriteDataContainer.cpp:
        * dds/DCPS/transport/framework/DataLink.h:
        * dds/DCPS/transport/framework/DataLinkSet.h:
        * dds/DCPS/transport/framework/DataLinkSet.cpp:
        * dds/DCPS/transport/framework/PacketRemoveVisitor.cpp:
        * dds/DCPS/transport/framework/QueueRemoveVisitor.cpp:
        * dds/DCPS/transport/framework/RemoveAllVisitor.cpp:
        * dds/DCPS/transport/framework/ThreadPerConRemoveVisitor.cpp:
        * dds/DCPS/transport/framework/ThreadPerConnectionSendTask.h:
        * dds/DCPS/transport/framework/ThreadPerConnectionSendTask.cpp:
        * dds/DCPS/transport/framework/TransportClient.h:
        * dds/DCPS/transport/framework/TransportClient.cpp:
        * dds/DCPS/transport/framework/TransportQueueElement.h:
        * dds/DCPS/transport/framework/TransportSendElement.h:
        * dds/DCPS/transport/framework/TransportSendListener.h:
        * dds/DCPS/transport/framework/TransportSendStrategy.h:
        * dds/DCPS/transport/framework/TransportSendStrategy.cpp:
        * dds/DCPS/transport/rtps_udp/RtpsSampleHeader.h:
        * dds/DCPS/transport/rtps_udp/RtpsSampleHeader.cpp:
        * dds/DCPS/transport/rtps_udp/RtpsUdpDataLink.h:
        * tests/DCPS/BuiltInTopic/main.cpp:
        * tests/DCPS/unit/Main.cpp:
        * tests/transport/rtps/publisher.cpp:
        * tests/transport/rtps_reliability/rtps_reliability.cpp:
        * tests/transport/simple/SimpleDataWriter.h:
        * tests/transport/simple/SimpleDataWriter.cpp:

          Made necessary modifications to include statements and forward declarations in
          files/classes making use of the DataSample[Send, Instance, Writer]List(s) as well
          as for DataSampleListElement includes throughout.

Wed Jul  2 13:57:47 UTC 2014  Byron Harris  <harrisb@ociweb.com>

        * dds/DCPS/DataSampleList.h:

          Don't make list's tail, head, and size data fields settable by code that uses
          DataSampleSendList.

        * tests/transport/rtps/publisher.cpp:
        * tests/transport/rtps_reliability/rtps_reliability.cpp:
        * tests/transport/simple/PubDriver.h:
        * tests/transport/simple/SimpleDataWriter.h:
        * tests/transport/simple/SimpleDataWriter.cpp:

          Update to account for DataSampleSendList's internals not be settable.

Tue Jul  1 15:49:14 UTC 2014  Byron Harris  <harrisb@ociweb.com>

        * dds/DCPS/DataSampleList.h:
        * dds/DCPS/DataSampleList.cpp:
        * dds/DCPS/DataSampleListElement.h:
        * dds/DCPS/WriteDataContainer.cpp:

          Modify so list dequeue method takes a const element since the logical value of the element
          isn't changed although the prev/next list pointers needed only by the list do.
          Have dequeue method return a bool instead of an element pointer.

Mon Jun 30 21:11:06 UTC 2014  Peter Oschwald  <oschwaldp@ociweb.com>

        * dds/DCPS/DataSampleList.h:
        * dds/DCPS/DataSampleList.cpp:
        * dds/DCPS/DataSampleListElement.h:
        * dds/DCPS/WriteDataContainer.cpp:

          Added static method send_list_containing_element to DataSampleSendList which takes
          a vector of pointers to DataSampleSendList(s) and an element, and returns a const
          pointer to the list it is contained in.  This is used for locating an element in one
          of a WriteDataContainer's send lists.

          Modified WriteDataContainer to use send_list_containing_element to locate list containing
          element during remove_oldest_sample operation.

          This allowed removing accessor to previous_send_sample from DataSampleList element to
          enforce encapsulation.


          Note:  Currently DataSampleList's accessors and mutators for head, tail, and size are
            commented out leaving several tests unable to build.  This change was done in previous
            commit and should be temporary.

Mon Jun 30 18:59:03 UTC 2014  Byron Harris  <harrisb@ociweb.com>

        * dds/DCPS/DataSampleList.h:
        * dds/DCPS/DataSampleList.cpp:
        * dds/DCPS/DataSampleListElement.h:
        * tests/DCPS/unit/Main.cpp:

          Removed DataSampleListIterator and added DataSampleSendListIterator
          (iteration is only done for DataSampleSendList).

Fri Jun 27 20:36:46 UTC 2014  Peter Oschwald  <oschwaldp@ociweb.com>

        * dds/DCPS/DataSampleListElement.h:
        * dds/DCPS/DataSampleListElement.inl:

          Split out the DataSampleListElement into its own class instead of
          an imbedded struct in DataSampleList.  Made its pointers to list
          positions private and added the DataSample*List classes friends so
          that they can manage the element's internal pointers.

          Added setters and getters for pointers to next and previous send samples
          to support current code usage.  These should hopefully be done away with
          in the future and not allow direct manipulation or access to these internals.

          Left other data members as public for the moment, but hope to shift most to
          private.

        * dds/DCPS/DataSampleList.h:
        * dds/DCPS/DataSampleList.inl:
        * dds/DCPS/DataSampleList.cpp:

          Made the DataSampleList an abstract base class for concrete derived list types:
            -DataSampleSendList
            -DataSampleInstanceList
            -DataSampleWriterList

          Added initial declaration and definitions of derived lists member functions within
          existing DataSampleList.(h,cpp,inl).  Made previous DataSampleList's member functions
          for managing element pointers into generalized enqueue_tail, dequeue_head, dequeue
          functionality specific to the concrete derived list type.  These methods are pure virtual
          in abstract base class and each derived list type concretely defines them per old
          implementations.

          Provided accessors and mutators for the head_, tail_, and size_ datamembers to control
          access to the DataSampleList's internals which were being directly accessed from outside
          the class.  The mutators at least should hopefully go away with a more controlled design
          in future iterations.

        * dds/DCPS/DataDurabilityCache.cpp:
        * dds/DCPS/DataDurabilityCache.h:
        * dds/DCPS/DataWriterImpl.h:
        * dds/DCPS/DataWriterImpl.cpp:
        * dds/DCPS/PublicationInstance.h:
        * dds/DCPS/RTPS/Sedp.cpp:
        * dds/DCPS/ReplayerImpl.cpp:
        * dds/DCPS/WriteDataContainer.h:
        * dds/DCPS/WriteDataContainer.cpp:
        * dds/DCPS/transport/framework/TransportClient.h:
        * dds/DCPS/transport/framework/TransportClient.cpp:
        * tests/DCPS/unit/Main.cpp:
        * tests/transport/rtps/publisher.cpp:
        * tests/transport/rtps_reliability/rtps_reliability.cpp:
        * tests/transport/simple/SimpleDataWriter.cpp:

          Updated DataSampleList's to be the appropriate derived type as well as correctly calling
          member functions for operations on the lists.  Used helper functions to control access
          to head_, tail_, and size_ data members which are now private.  Did provide a setter for
          these members for this initial implemenation so that the operation wouldn't be changed yet.

Wed Jun 25 22:11:35 UTC 2014  Byron Harris  <harrisb@ociweb.com>

        * dds/DCPS/DataSampleList.h:

          Added initial declaration of iterator to use for the three new list types
          and initial declaration of DataSampleWriterList to use as a sample list
          used by data writers.

Local Variables:
mode: change-log
add-log-time-format: (lambda () (progn (setq tz (getenv "TZ")) (set-time-zone-rule "UTC") (setq time (format-time-string "%a %b %e %H:%M:%S %Z %Y" (current-time))) (set-time-zone-rule tz) time))
indent-tabs-mode: nil
End:
